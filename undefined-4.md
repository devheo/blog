# 오픈소스 버전 관리

안드로이드에서는  Gradle을 사용하여 빌드 환경을 구축하고 있습니다. 하지만 버전 관리는 어렵고 여러가지 방법으로 관리를 해오고 있습니다. 이를 해결하기 위해 Gradle 7.X 버전부터는 Gradle Version Catalog 기능이 도입되었고, 이기능을 사용하면 라이브러리 및 플러그인 버전을 쉽게 관리할 수 있습니다. 프로젝트에서 이를 사용하여 버전을 관리하도록 하겠습니다.

## AS-IS

기존에 사용하던 방법은 아래 두 가지의 형태로 변경 사항이나 멀티 모듈의 적용 부분에 대해 의존성관리에 대해 여러가지 문제가 발생할 수 있습니다.

* build.gradle 에 선언하기
  * 첫 번째 방법의 문제점은 버전 관리가 어렵다는 것입니다. 하나의 파일에서 관리가 되는것이 아닌 각각의 build.gradle 파일에서 작성을 해주어야 하고, 반복되는 라이브러리들이 많아질 것 입니다. 이때 변경 사항이 생겨 적용을 하게 되는 과정이 번거로울 수 있습니다.
* #### buildSrc 모듈을 만들어 정의하고 참조하기 <a href="#buildsrc" id="buildsrc"></a>
  * 두 번째 방법의 문제점은 빌드 시간이 느려질 수 있다는 것입니다. buildSrc의 상수를 변경하면 전체 그레들을 다시 빌드해야 하므로 빌드 시간이 늘어날 수 있습니다. 또한 모듈을 생성하려면 추가적인 노력이 필요하므로 단순히 버전 관리용으로는 적합하지 않습니다.

## TO-BE

**Gradle Version Catalog**는 Toml 파일을 사용하여 버전 정보를 관리합니다. 해당 파일을 통해 버전 그룹을 정의하고, 각 그룹에서 사용 가능한 버전을 지정한다. Gradle은 이 파일을 읽어서 라이브러리와 플러그인의 버전을 찾아서 사용합니다.

이를 통해 버전 정보를 일관되게 관리할 수 있으며, 버전 충돌을 방지할 수 있습니다. 이러한 장점들은 빌드 시스템의 안정성과 유지보수성을 향상시키며, 빌드 프로세스를 간소화하고 개발자의 작업 효율을 높이는 데 도움을 줍니다.

buildSrc 보다 버전 카탈로그를 사용하는 이점 중 하나는 버전 카탈로그가 상수를 인라인하는 대신 함수 호출을 사용한다는 것입니다. 즉, 상수 값을 변경해도 모든 플러그인 코드의 재빌드가 트리거되지 않아 더 효율적일 수 있습니다.

\




